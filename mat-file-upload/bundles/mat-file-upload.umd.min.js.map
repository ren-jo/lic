{"version":3,"sources":["ng://mat-file-upload/lib/mat-file-upload.service.ts","ng://mat-file-upload/lib/mat-file-upload.component.ts","ng://mat-file-upload/lib/mat-file-upload.module.ts"],"names":["MatFileUploadService","Injectable","args","providedIn","MatFileUploadComponent","this","labelText","selectButtonText","uploadButtonText","allowMultipleFiles","showUploadButton","acceptedTypes","customSvgIcon","uploadClicked","EventEmitter","selectedFilesChanged","selectedFileText","prototype","ngOnInit","filesChanged","files","selectedFiles","emit","numSelectedFiles","length","name","resetFileInput","uploadFiles","fileInputRef","nativeElement","value","Component","selector","template","Input","Output","ViewChild","static","MatFileUploadModule","NgModule","declarations","imports","CommonModule","MatButtonModule","MatIconModule","MatInputModule","MatSelectModule","FormsModule","exports"],"mappings":"wtBAAA,IAAAA,EAAA,WAOE,SAAAA,gCALDC,EAAAA,WAAUC,KAAA,CAAC,CACVC,WAAY,wJAHd,GCAAC,EAAA,WAwEE,SAAAA,IAdSC,KAAAC,UAAY,iBACZD,KAAAE,iBAAmB,iBACnBF,KAAAG,iBAAmB,iBACnBH,KAAAI,oBAAqB,EACrBJ,KAAAK,kBAAmB,EACnBL,KAAAM,cAAgB,MAChBN,KAAAO,cAAyB,KACxBP,KAAAQ,cAAwC,IAAIC,EAAAA,aAC5CT,KAAAU,qBAA+C,IAAID,EAAAA,aAI7DT,KAAAW,iBAAmB,GA6BrB,OAzBEZ,EAAAa,UAAAC,SAAA,aAEAd,EAAAa,UAAAE,aAAA,SAAaC,GAGX,GAFAf,KAAKgB,cAAgBD,EACrBf,KAAKU,qBAAqBO,KAAKjB,KAAKgB,eAChChB,KAAKgB,cAAe,KAChBE,EAAmBlB,KAAKgB,cAAcG,OAC5CnB,KAAKW,iBACkB,IAArBO,EACIlB,KAAKgB,cAAc,GAAGI,KACnBF,EAAgB,uBAEzBlB,KAAKW,iBAAmB,GACxBX,KAAKqB,kBAITtB,EAAAa,UAAAU,YAAA,WACEtB,KAAKQ,cAAcS,KAAKjB,KAAKgB,eAC7BhB,KAAKqB,kBAGPtB,EAAAa,UAAAS,eAAA,WACErB,KAAKuB,aAAaC,cAAcC,MAAQ,wBAvF3CC,EAAAA,UAAS7B,KAAA,CAAC,CACT8B,SAAU,kBACVC,SAAU,koCAyCR,sDACA,8JAIDC,EAAAA,gCACAA,EAAAA,gCACAA,EAAAA,kCACAA,EAAAA,gCACAA,EAAAA,6BACAA,EAAAA,6BACAA,EAAAA,6BACAC,EAAAA,qCACAA,EAAAA,6BAEAC,EAAAA,UAASlC,KAAA,CAAC,YAAa,CAAEmC,QAAQ,OA+BpCjC,EAnGA,GCAA,IAAAkC,EAAA,WAUA,SAAAA,KAYkC,2BAZjCC,EAAAA,SAAQrC,KAAA,CAAC,CACRsC,aAAc,CAACpC,GACfqC,QAAS,CACPC,EAAAA,aACAC,EAAAA,gBACAC,EAAAA,cACAC,EAAAA,eACAC,EAAAA,gBACAC,EAAAA,aAEFC,QAAS,CAAC5C,OAEsBkC,EAtBlC","sourcesContent":["import { Injectable } from '@angular/core';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class MatFileUploadService {\r\n\r\n  constructor() { }\r\n}\r\n","import {\r\n  Component,\r\n  ElementRef,\r\n  EventEmitter,\r\n  Input,\r\n  OnInit,\r\n  Output,\r\n  ViewChild,\r\n} from '@angular/core'\r\n\r\n@Component({\r\n  selector: 'mat-file-upload',\r\n  template: `\r\n    <span class=\"file-input-text\">{{ labelText }}</span>\r\n    <button\r\n      mat-button\r\n      color=\"primary\"\r\n      class=\"file-input-button\"\r\n      (click)=\"fileInput.click()\"\r\n      [attr.aria-label]=\"selectButtonText\"\r\n    >\r\n      <span>{{ selectButtonText }}</span>\r\n      <input\r\n        #fileInput\r\n        type=\"file\"\r\n        style=\"display: none\"\r\n        [accept]=\"acceptedTypes\"\r\n        [multiple]=\"allowMultipleFiles\"\r\n        (change)=\"filesChanged($event.target.files)\"\r\n      />\r\n    </button>\r\n    <button\r\n      mat-raised-button\r\n      color=\"primary\"\r\n      class=\"file-input-button\"\r\n      [disabled]=\"!selectedFiles\"\r\n      (click)=\"uploadFiles()\"\r\n      *ngIf=\"showUploadButton\"\r\n      [attr.aria-label]=\"uploadButtonText\"\r\n    >\r\n      {{ uploadButtonText }}\r\n    </button>\r\n    <span class=\"file-input-text\">{{ selectedFileText }}</span>\r\n    <button\r\n      mat-icon-button\r\n      (click)=\"filesChanged(null)\"\r\n      aria-label=\"Remove Selected File(s)\"\r\n    >\r\n      <mat-icon *ngIf=\"!customSvgIcon\">close</mat-icon>\r\n      <mat-icon *ngIf=\"customSvgIcon\" [svgIcon]=\"customSvgIcon\"></mat-icon>\r\n    </button>\r\n  `,\r\n  styles: [\r\n    '.file-input-button { margin-right: 8px !important }',\r\n    '.file-input-text { font-size: 14px !important; margin-right: 8px !important }',\r\n  ],\r\n})\r\nexport class MatFileUploadComponent implements OnInit {\r\n  @Input() labelText = 'Select File(s)'\r\n  @Input() selectButtonText = 'Select File(s)'\r\n  @Input() uploadButtonText = 'Upload File(s)'\r\n  @Input() allowMultipleFiles = false\r\n  @Input() showUploadButton = true\r\n  @Input() acceptedTypes = '*.*'\r\n  @Input() customSvgIcon?: string = null\r\n  @Output() uploadClicked: EventEmitter<FileList> = new EventEmitter<FileList>()\r\n  @Output() selectedFilesChanged: EventEmitter<FileList> = new EventEmitter<FileList>()\r\n\r\n  @ViewChild('fileInput', { static: false }) fileInputRef: ElementRef\r\n  selectedFiles: FileList\r\n  selectedFileText = ''\r\n\r\n  constructor() { }\r\n\r\n  ngOnInit() { }\r\n\r\n  filesChanged(files?: FileList): void {\r\n    this.selectedFiles = files\r\n    this.selectedFilesChanged.emit(this.selectedFiles)\r\n    if (this.selectedFiles) {\r\n      const numSelectedFiles = this.selectedFiles.length\r\n      this.selectedFileText =\r\n        numSelectedFiles === 1\r\n          ? this.selectedFiles[0].name\r\n          : `${numSelectedFiles} files selected`\r\n    } else {\r\n      this.selectedFileText = ''\r\n      this.resetFileInput()\r\n    }\r\n  }\r\n\r\n  uploadFiles(): void {\r\n    this.uploadClicked.emit(this.selectedFiles)\r\n    this.resetFileInput()\r\n  }\r\n\r\n  resetFileInput(): void {\r\n    this.fileInputRef.nativeElement.value = ''\r\n  }\r\n}\r\n","import { CommonModule } from '@angular/common'\r\nimport { NgModule } from '@angular/core'\r\nimport { FormsModule } from '@angular/forms'\r\nimport { MatButtonModule } from '@angular/material/button'\r\nimport { MatIconModule } from '@angular/material/icon'\r\nimport { MatInputModule } from '@angular/material/input'\r\nimport { MatSelectModule } from '@angular/material/select'\r\n\r\nimport { MatFileUploadComponent } from './mat-file-upload.component'\r\n\r\n@NgModule({\r\n  declarations: [MatFileUploadComponent],\r\n  imports: [\r\n    CommonModule,\r\n    MatButtonModule,\r\n    MatIconModule,\r\n    MatInputModule,\r\n    MatSelectModule,\r\n    FormsModule,\r\n  ],\r\n  exports: [MatFileUploadComponent],\r\n})\r\nexport class MatFileUploadModule {}\r\n"]}