{"version":3,"file":"ngx-polygon-draw.umd.js.map","sources":["ng://ngx-polygon-draw/lib/ngx-polygon-draw.service.ts","ng://ngx-polygon-draw/lib/ngx-polygon-draw.component.ts","ng://ngx-polygon-draw/lib/ngx-polygon-draw.module.ts"],"sourcesContent":["import { Injectable } from '@angular/core';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class NgxPolygonDrawService {\n\n  constructor() { }\n}\n","import {Component, ElementRef, EventEmitter, Input, OnInit, Output, Renderer2, ViewChild} from '@angular/core';\n\n@Component({\n  selector: 'Ngx-NgxPolygonDraw',\n  template: `\n    <div (load)=\"clear_canvas()\">\n      <canvas #polygon id=\"jPolygon\" width=\"640\" height=\"480\" style=\"cursor:crosshair\" (mousedown)=\"point_it($event)\" oncontextmenu=\"return false;\">\n        Your browser does not support the HTML5 canvas tag.\n      </canvas>\n    </div>\n  `,\n  styles: []\n})\n\nexport class NgxPolygonDrawComponent implements OnInit {\n\n  constructor(private rd: Renderer2) { }\n  @Input() private src: string;\n  @Output() private created = new EventEmitter();\n  @ViewChild('polygon') private polygon:ElementRef;\n\n  perimeter = [];\n  complete = false;\n  private canvas;\n  private ctx;\n\n  private static line_intersects(p0, p1, p2, p3) {\n    let s1_x, s1_y, s2_x, s2_y;\n    s1_x = p1['x'] - p0['x'];\n    s1_y = p1['y'] - p0['y'];\n    s2_x = p3['x'] - p2['x'];\n    s2_y = p3['y'] - p2['y'];\n\n    let s, t;\n    s = (-s1_y * (p0['x'] - p2['x']) + s1_x * (p0['y'] - p2['y'])) / (-s2_x * s1_y + s1_x * s2_y);\n    t = ( s2_x * (p0['y'] - p2['y']) - s2_y * (p0['x'] - p2['x'])) / (-s2_x * s1_y + s1_x * s2_y);\n\n    return s >= 0 && s <= 1 && t >= 0 && t <= 1;\n    // No collision\n  }\n\n  private point(x, y){\n    this.ctx.fillStyle=\"white\";\n    this.ctx.strokeStyle = \"white\";\n    this.ctx.fillRect(x-2,y-2,4,4);\n    this.ctx.moveTo(x,y);\n  }\n\n  undo(){\n    this.ctx = undefined;\n    this.perimeter.pop();\n    this.complete = false;\n    this.start(true);\n  }\n\n  clear_canvas(){\n    this.ctx = undefined;\n    this.perimeter = [];\n    this.complete = false;\n    // this.rd.selectRootElement(this.coordinatesElem[\"nativeElement\"]).value = '';\n    this.start(false);\n  }\n\n  private draw(end){\n    this.ctx.lineWidth = 1;\n    this.ctx.strokeStyle = \"white\";\n    this.ctx.lineCap = \"square\";\n    this.ctx.beginPath();\n\n    for(let i = 0; i < this.perimeter.length; i++){\n      if( i == 0 ){\n        this.ctx.moveTo(this.perimeter[i]['x'],this.perimeter[i]['y']);\n        end || this.point(this.perimeter[i]['x'],this.perimeter[i]['y']);\n      } else {\n        this.ctx.lineTo(this.perimeter[i]['x'],this.perimeter[i]['y']);\n        end || this.point(this.perimeter[i]['x'],this.perimeter[i]['y']);\n      }\n    }\n    if(end){\n      this.ctx.lineTo(this.perimeter[0]['x'],this.perimeter[0]['y']);\n      this.ctx.closePath();\n      this.ctx.fillStyle = 'rgba(255, 0, 0, 0.5)';\n      this.ctx.fill();\n      this.ctx.strokeStyle = 'blue';\n      this.complete = true;\n      this.created.emit(this.perimeter);\n    }\n    this.ctx.stroke();\n\n    // print coordinates\n    if(this.perimeter.length == 0){\n      // this.rd.selectRootElement(this.coordinatesElem[\"nativeElement\"]).value = '';\n    } else {\n      // this.rd.selectRootElement(this.coordinatesElem[\"nativeElement\"]).value = JSON.stringify(this.perimeter);\n    }\n  }\n\n  private check_intersect(x,y){\n    if(this.perimeter.length < 4){\n      return false;\n    }\n    let p0 = [];\n    let p1 = [];\n    let p2 = [];\n    let p3 = [];\n\n    p2['x'] = this.perimeter[this.perimeter.length-1]['x'];\n    p2['y'] = this.perimeter[this.perimeter.length-1]['y'];\n    p3['x'] = x;\n    p3['y'] = y;\n\n    for(let i=0; i<this.perimeter.length-1; i++){\n      p0['x'] = this.perimeter[i]['x'];\n      p0['y'] = this.perimeter[i]['y'];\n      p1['x'] = this.perimeter[i+1]['x'];\n      p1['y'] = this.perimeter[i+1]['y'];\n      if(p1['x'] == p2['x'] && p1['y'] == p2['y']){ continue; }\n      if(p0['x'] == p3['x'] && p0['y'] == p3['y']){ continue; }\n      if(NgxPolygonDrawComponent.line_intersects(p0,p1,p2,p3)==true){\n        return true;\n      }\n    }\n    return false;\n  }\n\n  point_it(event) {\n    if(this.complete){\n      // alert('Ð Ð°Ð·Ð¼ÐµÑÐºÐ° ÑÐ¶Ðµ ÑÐ¾Ð·Ð´Ð°Ð½Ð°');\n      this.created.emit('already created');\n      return false;\n    }\n    let rect, x, y;\n\n    if(event.ctrlKey || event.which === 3 || event.button === 2){\n      if(this.perimeter.length == 2){\n        // alert('ÐÐ»Ñ ÑÐ¾Ð·Ð´Ð°Ð½Ð¸Ñ ÑÐ°Ð·Ð¼ÐµÑÐºÐ¸ Ð½ÐµÐ¾Ð±ÑÐ¾Ð´Ð¸Ð¼Ð¾ Ð½Ðµ Ð¼ÐµÐ½ÐµÐµ 3-Ñ ÑÐ¾ÑÐµÐº');\n        this.created.emit('at least 3 points required');\n        return false;\n      }\n      x = this.perimeter[0]['x'];\n      y = this.perimeter[0]['y'];\n      if(this.check_intersect(x,y)){\n        // alert('Ð­ÑÐ° Ð»Ð¸Ð½Ð¸Ñ Ð¿ÐµÑÐµÑÐµÐºÐ°ÐµÑ Ð´ÑÑÐ³ÑÑ');\n        this.created.emit('line intersecrion');\n        return false;\n      }\n      this.draw(true);\n      // alert('Ð Ð°Ð·Ð¼ÐµÑÐºÐ° Ð·Ð°Ð²ÐµÑÑÐµÐ½Ð°');\n      event.preventDefault();\n      return false;\n    } else {\n      rect = this.canvas.getBoundingClientRect();\n      x = event.clientX - rect.left;\n      y = event.clientY - rect.top;\n      if (this.perimeter.length>0 && x == this.perimeter[this.perimeter.length-1]['x'] && y == this.perimeter[this.perimeter.length-1]['y']){\n        // same point - double click\n        return false;\n      }\n      if(this.check_intersect(x,y)){\n        // alert('Ð­ÑÐ° Ð»Ð¸Ð½Ð¸Ñ Ð¿ÐµÑÐµÑÐµÐºÐ°ÐµÑ Ð´ÑÑÐ³ÑÑ');\n        this.created.emit('line intersection');\n        return false;\n      }\n      this.perimeter.push({'x':x,'y':y});\n      this.draw(false);\n      return false;\n    }\n  }\n\n  private start(with_draw: boolean) {\n    const img = new Image();\n    img.src = this.src;\n    img.onload = () => {\n      this.ctx = this.canvas.getContext(\"2d\");\n      this.ctx.drawImage(img, 0, 0, this.canvas.width, this.canvas.height);\n      if(with_draw == true){\n        this.draw(false);\n      }\n    }\n  }\n\n  ngOnInit() {\n    this.setBcg();\n    this.start(false);\n  }\n\n  private setBcg() {\n    this.canvas = this.rd.selectRootElement(this.polygon[\"nativeElement\"]);\n    this.ctx = this.canvas.getContext(\"2d\");\n    let bcg = new Image();\n\n    bcg.src = this.src;\n    bcg.onload = () => {\n      this.ctx.drawImage(bcg, 0, 0)\n    };\n  }\n\n}\n","import { NgModule } from '@angular/core';\nimport { NgxPolygonDrawComponent } from './ngx-polygon-draw.component';\n\n@NgModule({\n  declarations: [NgxPolygonDrawComponent],\n  imports: [\n  ],\n  exports: [NgxPolygonDrawComponent]\n})\nexport class NgxPolygonDrawModule { }\n"],"names":["Injectable","EventEmitter","Component","Renderer2","Input","Output","ViewChild","NgModule"],"mappings":"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"}
